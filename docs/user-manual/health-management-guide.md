# 건강 관리 사용 가이드

## 📖 개요

건강 관리 기능을 통해 수면, 활동량, 혈압/혈당, 체중 등 다양한 건강 데이터를 기록하고 시각화할 수 있습니다.

---

## 🎯 건강 데이터 입력하기

### 통합 입력 페이지 사용법

모든 건강 데이터는 **한 페이지에서** 입력할 수 있습니다.

1. **건강 대시보드 접속**
   - 메뉴에서 "건강 관리" → "건강 데이터 입력" 클릭
   - 또는 `/health/log` 페이지로 직접 이동

2. **날짜 선택**
   - 페이지 상단의 날짜 선택기에서 기록할 날짜를 선택합니다
   - 기본값은 오늘 날짜입니다

3. **탭 선택 및 입력**
   - 4개의 탭 중 원하는 항목을 선택합니다:
     - **수면**: 수면 시간과 품질 기록
     - **활동량**: 걸음 수, 운동 시간, 소모 칼로리 기록
     - **혈압/혈당**: 혈압, 혈당, 심박수 기록
     - **체중**: 체중, 체지방률, 근육량 기록

4. **데이터 입력**
   - 각 필드에 값을 입력합니다
   - 필드 옆의 ℹ️ 아이콘을 클릭하면 상세 설명을 볼 수 있습니다
   - 필수 필드는 * 표시가 있습니다

5. **저장**
   - 각 탭에서 독립적으로 저장할 수 있습니다
   - 저장 성공 시 해당 탭에 체크 표시가 나타납니다

---

## 📊 각 입력 항목별 상세 가이드

### 1. 수면 기록

#### 입력 항목
- **수면 시간**: 시간 단위로 입력 (예: 7.5시간)
- **수면 품질 점수**: 1-10점으로 평가
- **취침/기상 시간**: 시간 형식으로 입력 (선택사항)
- **수면 단계**: 깊은 수면, 얕은 수면, REM 수면 시간 (선택사항)
- **메모**: 특이사항 기록 (선택사항)

#### 권장 사항
- **권장 수면 시간**: 성인 기준 7-9시간
- **기록 주기**: 매일 기록하면 수면 패턴 파악에 도움이 됩니다
- **수면 단계 정보**: 스마트워치나 수면 앱에서 가져올 수 있습니다

#### 정상 범위
- 수면 시간: 7-9시간 (성인 기준)
- 수면 품질 점수: 7점 이상 권장

---

### 2. 활동량 기록

#### 입력 항목
- **걸음 수**: 하루 동안 걸은 총 걸음 수
- **운동 시간**: 중강도 이상 운동 시간 (분 단위)
- **소모 칼로리**: 운동으로 소모한 칼로리 (kcal)
- **운동 유형**: 운동 종류 (선택사항)
- **메모**: 특이사항 기록 (선택사항)

#### 권장 사항
- **권장 걸음 수**: 하루 10,000보
- **권장 운동 시간**: 주당 150분 (하루 평균 30분)
- **기록 주기**: 매일 기록하면 활동량 목표 달성에 도움이 됩니다
- **데이터 출처**: 스마트폰, 피트니스 기기, 운동 앱에서 확인 가능

#### 정상 범위
- 걸음 수: 10,000보 이상
- 운동 시간: 주당 150분 이상

---

### 3. 혈압/혈당 기록

#### 입력 항목
- **측정 시간**: 혈압/혈당을 측정한 날짜와 시간
- **수축기 혈압**: 심장이 수축할 때의 혈압 (mmHg)
- **이완기 혈압**: 심장이 이완할 때의 혈압 (mmHg)
- **공복 혈당**: 8시간 이상 금식 후 혈당 (mg/dL)
- **식후 혈당**: 식사 후 2시간 경과 후 혈당 (mg/dL)
- **심박수**: 안정 시 심박수 (bpm)
- **메모**: 특이사항 기록 (선택사항)

#### 권장 사항
- **측정 주기**: 의사와 상의하여 정기적으로 측정하세요
- **측정 조건**: 같은 시간, 같은 조건에서 측정하면 정확한 추이를 파악할 수 있습니다
- **의료 상담**: 비정상적인 수치가 지속되면 의사와 상의하세요

#### 정상 범위
- **혈압**: 수축기 120mmHg 미만, 이완기 80mmHg 미만
  - 고혈압 전단계: 수축기 120-139, 이완기 80-89
  - 고혈압: 수축기 140 이상, 이완기 90 이상
- **공복 혈당**: 100mg/dL 미만
  - 당뇨 전단계: 100-125
  - 당뇨병 의심: 126 이상
- **식후 혈당**: 140mg/dL 미만
  - 당뇨 전단계: 140-199
  - 당뇨병 의심: 200 이상
- **심박수**: 60-100bpm (안정 시)

---

### 4. 체중 기록

#### 입력 항목
- **체중**: kg 단위로 입력 (필수)
- **체지방률**: 전체 체중 중 지방의 비율 (%) (선택사항)
- **근육량**: 근육의 무게 (kg) (선택사항)
- **메모**: 특이사항 기록 (선택사항)

#### 권장 사항
- **측정 주기**: 주 2-3회 기록하면 체중 변화 추이를 파악하는 데 도움이 됩니다
- **측정 조건**: 매일 같은 시간(예: 아침 기상 직후), 같은 조건에서 측정하세요
- **체성분 분석**: 체지방률과 근육량은 체성분 분석기(InBody 등)로 측정할 수 있습니다
- **의료 상담**: 급격한 체중 변화가 있다면 의사와 상의하세요

#### 정상 범위
- **BMI**: 18.5-24.9 (정상 체중)
  - 저체중: 18.5 미만
  - 과체중: 25-29.9
  - 비만: 30 이상
- **체지방률**:
  - 남성: 10-20%
  - 여성: 18-28%

---

## 📈 건강 대시보드에서 데이터 확인하기

### 대시보드 접속
- 메뉴에서 "건강 관리" → "건강 대시보드" 클릭
- 또는 `/health/dashboard` → "건강 시각화" 탭 클릭

### 대시보드 구성

#### 1. 요약 카드
- **건강 점수**: 종합 건강 상태 점수 (0-100점)
- **BMI**: 체질량지수
- **걸음 수**: 오늘의 걸음 수
- **수면 시간**: 오늘의 수면 시간

#### 2. 주요 건강 지표
- BMI, 영양 균형, 질병 위험도 등을 시각화하여 표시
- Accordion으로 접기/펼치기 가능

#### 3. 생활 패턴
- **활동량 차트**: 최근 7일간의 걸음 수, 운동 시간, 소모 칼로리
- **수면 패턴 차트**: 최근 7일간의 수면 시간, 품질, 수면 단계

#### 4. 건강 모니터링
- **혈압/혈당 차트**: 최근 측정 기록의 혈압, 혈당, 심박수 추이
- **체중 추이 차트**: 최근 체중, BMI, 체지방률 변화

#### 5. 건강 트렌드
- 건강 점수 추이
- 영양소 섭취 추이

#### 6. 건강 인사이트
- 데이터를 분석하여 제공하는 건강 개선 권장사항

### 기간 선택
- **오늘**: 오늘의 데이터만 표시
- **1주**: 최근 7일간의 데이터
- **1개월**: 최근 30일간의 데이터
- **3개월**: 최근 90일간의 데이터

---

## 💡 자주 묻는 질문 (FAQ)

### Q1. 데이터는 어떻게 저장되나요?
A: 입력한 모든 건강 데이터는 안전하게 데이터베이스에 저장됩니다. 본인만 접근할 수 있으며, 개인정보보호법을 준수합니다.

### Q2. 기록을 수정하거나 삭제할 수 있나요?
A: 현재는 수정/삭제 기능이 제공되지 않습니다. 같은 날짜에 다시 입력하면 기존 데이터가 업데이트됩니다.

### Q3. 가족 구성원 데이터는 어떻게 관리하나요?
A: 현재는 본인 데이터만 입력할 수 있습니다. 가족 구성원 기능은 향후 추가 예정입니다.

### Q4. 데이터가 표시되지 않아요
A: 다음을 확인해주세요:
- 올바른 날짜 범위를 선택했는지 확인
- 데이터를 입력했는지 확인
- 페이지를 새로고침해보세요

### Q5. 건강 점수는 어떻게 계산되나요?
A: 건강 점수는 다음 요소들을 종합하여 계산됩니다:
- BMI
- 영양 균형
- 활동량
- 수면 시간
- 질병 위험도

### Q6. 정기적으로 기록해야 하나요?
A: 정기적인 기록을 권장합니다:
- **수면**: 매일
- **활동량**: 매일
- **혈압/혈당**: 의사와 상의한 주기
- **체중**: 주 2-3회

정기적으로 기록하면 건강 트렌드를 파악하고 건강 개선에 도움이 됩니다.

---

## 🔗 관련 링크

- [건강 대시보드](/health/dashboard)
- [건강 데이터 입력](/health/log)
- [건강 프로필 설정](/health/profile)

---

---

## 📱 스마트 기기 연동

### 지원 기기

다음 스마트 기기와 연동하여 건강 데이터를 자동으로 가져올 수 있습니다:

- **블루투스 기기** (추천): 환경 변수 없이 브라우저에서 직접 연결 (심박수, 활동량 등)
- **Google Fit**: 활동량, 심박수, 체중
- **Fitbit**: 활동량, 수면, 심박수, 체중
- **Apple Health**: 파일 업로드 방식 (CSV/JSON)
- **Samsung Health**: 파일 업로드 방식 (CSV/JSON)

### 기기 연동 방법

1. **건강 프로필 관리 페이지 접속**
   - 메뉴에서 "건강 관리" → "건강 프로필 관리" 클릭
   - 또는 `/health/profile` 페이지로 이동

2. **기기 연동 탭 선택**
   - 페이지 상단의 "기기 연동" 탭 클릭

3. **기기 연결**
   - 연결하고 싶은 기기 카드 클릭
   - **블루투스 기기**: 브라우저에서 직접 기기 선택 및 연결 (환경 변수 불필요)
   - **Google Fit / Fitbit**: OAuth 인증을 통해 계정 연결
   - **Apple Health / Samsung Health**: 파일 업로드

4. **데이터 동기화**
   - 연결된 기기 목록에서 "동기화" 버튼 클릭
   - 최근 데이터가 자동으로 가져와집니다

### 블루투스 기기 연동 (추천)

**장점:**
- 환경 변수 설정 불필요
- 브라우저에서 직접 연결
- 실시간 데이터 읽기 가능

**지원 브라우저:**
- Google Chrome (데스크톱 및 Android)
- Microsoft Edge
- Samsung Internet
- Opera

**주의사항:**
- HTTPS 연결 필수
- Safari와 Firefox는 현재 지원하지 않음
- 기기가 블루투스로 페어링 가능한 상태여야 함

**연결 방법:**
1. "블루투스 기기" 카드 클릭
2. "기기 연결" 버튼 클릭
3. 기기 목록에서 연결할 기기 선택
4. 연결 후 "심박수 읽기" 등으로 데이터 가져오기

**지원 기기:**
- 심박수 측정 기능이 있는 블루투스 기기
- Mi Band, Fitbit, Garmin, Polar 등

### Google Fit 연동

1. "Google Fit 연결하기" 버튼 클릭
2. Google 계정으로 로그인
3. 데이터 접근 권한 허용
4. 연동 완료 후 자동으로 데이터 동기화

**제공되는 데이터:**
- 활동량 (걸음 수, 운동 시간, 소모 칼로리)
- 심박수
- 체중

### Fitbit 연동

1. "Fitbit 연결하기" 버튼 클릭
2. Fitbit 계정으로 로그인
3. 데이터 접근 권한 허용
4. 연동 완료 후 자동으로 데이터 동기화

**제공되는 데이터:**
- 활동량 (걸음 수, 운동 시간, 소모 칼로리)
- 수면 (수면 시간, 수면 단계)
- 심박수
- 체중

### Apple Health / Samsung Health 연동

1. 해당 앱에서 건강 데이터를 CSV 또는 JSON 형식으로 내보내기
2. "Apple Health" 또는 "Samsung Health" 카드 클릭
3. 내보낸 파일 선택 및 업로드
4. 파일이 파싱되어 데이터베이스에 저장됩니다

**파일 내보내기 방법:**
- **Apple Health**: 건강 앱 → 프로필 탭 → 데이터 내보내기
- **Samsung Health**: Samsung Health 앱 → 설정 → 데이터 내보내기

### 동기화 설정

- **자동 동기화**: 매일 새벽 2시에 자동으로 최신 데이터를 가져옵니다 (설정 가능)
- **수동 동기화**: 언제든지 "동기화" 버튼을 클릭하여 즉시 동기화할 수 있습니다

### 연결 해제

연결된 기기의 "연결 해제" 버튼을 클릭하면 언제든지 연동을 해제할 수 있습니다.

---

## 📞 문의 및 지원

건강 관리 기능 사용 중 문제가 발생하거나 질문이 있으시면 고객 지원팀에 문의해주세요.
