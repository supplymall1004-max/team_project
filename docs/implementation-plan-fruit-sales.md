# 제철과일 및 간식 판매 상세 페이지 구현 계획

## 📋 개요

간식 카드 클릭 시 제철과일 상세 페이지로 이동하고, 상세 페이지에서 제철과일 정보와 판매 안내 메시지를 제공합니다.

## 🎯 목표

1. 간식 카드 클릭 시 제철과일 상세 페이지로 이동
2. 제철과일 상세 정보 표시 (영양 정보, 건강 효능, 제철 시기 등)
3. 판매 기능 미구현 안내 및 추후 계획 공지

## ✅ 구현 완료 사항

### Phase 1: 간식 카드 클릭 처리
- ✅ `DietCard` 컴포넌트 수정
- ✅ 간식 카드 클릭 시 제철과일 ID 추출
- ✅ 제철과일 상세 페이지로 라우팅 (`/snacks/[fruitId]`)

### Phase 2: 제철과일 ID 매핑
- ✅ `lib/utils/fruit-mapper.ts` 유틸리티 함수 생성
- ✅ 레시피 제목에서 제철과일 ID 찾기 (`getFruitIdFromRecipeTitle`)
- ✅ 과일 ID로 제철과일 정보 조회 (`getFruitById`)
- ✅ 제철과일 간식 여부 확인 (`isSeasonalFruitSnack`)

### Phase 3: 상세 페이지 구현
- ✅ `/app/snacks/[fruitId]/page.tsx` 라우트 생성
- ✅ `components/snacks/fruit-detail-client.tsx` 컴포넌트 구현
- ✅ 제철과일 상세 정보 표시:
  - 이미지 및 이모지
  - 제철 시기
  - 구매 용이성
  - 영양 정보 (칼로리, 단백질, 탄수화물, 지방, 비타민C, 칼슘, 철분, 칼륨)
  - 건강 효능
  - 어린이 추천 정보
  - 질병 주의사항

### Phase 4: 판매 안내 메시지
- ✅ 판매 기능 미구현 안내
- ✅ 추후 계획 공지 (쿠팡, 네이버, 직접 판매)
- ✅ 사용자 친화적인 안내 메시지

## 📁 생성된 파일

### 1. `lib/utils/fruit-mapper.ts`
제철과일 ID 매핑 유틸리티 함수:
- `getFruitIdFromRecipeTitle`: 레시피 제목에서 과일 ID 찾기
- `getFruitById`: 과일 ID로 제철과일 정보 조회
- `isSeasonalFruitSnack`: 제철과일 간식 여부 확인

### 2. `app/snacks/[fruitId]/page.tsx`
제철과일 상세 페이지 라우트:
- 동적 라우팅 (`[fruitId]`)
- 메타데이터 생성
- 404 처리

### 3. `components/snacks/fruit-detail-client.tsx`
제철과일 상세 정보 클라이언트 컴포넌트:
- 이미지 및 기본 정보 표시
- 영양 정보 카드
- 건강 효능 카드
- 질병 주의사항 카드
- 판매 안내 알림

## 🔄 수정된 파일

### `components/health/diet-card.tsx`
- 간식 카드 클릭 시 제철과일 상세 페이지로 이동하도록 수정
- `getFruitIdFromRecipeTitle` 함수로 과일 ID 추출
- 제철과일이 아닌 경우 기존 레시피 페이지로 이동

## 📊 데이터 구조

### 제철과일 정보 (`Fruit`)
```typescript
interface Fruit {
  id: string;                  // "strawberry", "apple"
  name: string;                // "딸기", "사과"
  season: number[];            // [3, 4, 5] = 3월, 4월, 5월
  nutrition: FruitNutrition;  // 영양 정보
  benefits: string[];          // 건강 효능
  goodForKids: boolean;        // 어린이 추천 여부
  kidsBenefits?: string;       // 어린이에게 좋은 이유
  availability: "high" | "medium" | "low";  // 구매 용이성
  avoidForDiseases?: string[]; // 주의 질병
  imageUrl?: string;           // 이미지 URL
  emoji: string;               // 이모지
}
```

## 🎨 UI/UX 특징

1. **그라데이션 배경**: 제철과일 느낌의 그라데이션 배경
2. **이미지 표시**: 제철과일 이미지 또는 이모지 표시
3. **제철 배지**: 현재 제철인 경우 "제철" 배지 표시
4. **영양 정보 카드**: 색상별 영양소 표시
5. **건강 효능 배지**: 건강 효능을 배지 형태로 표시
6. **판매 안내 알림**: 파란색 알림 박스로 판매 기능 미구현 안내

## 🚀 향후 개발 계획

### Phase 5: 판매 기능 구현 (예정)
- 쿠팡 파트너스 API 연동
- 네이버 쇼핑 API 연동
- 직접 판매 플랫폼 구축
- 구매 링크 생성 및 관리

### Phase 6: 알림 기능 (예정)
- 관심 과일 즐겨찾기 기능
- 판매 기능 준비 완료 시 알림 발송
- 가격 변동 알림

## 📝 사용자 안내 메시지

상세 페이지 하단에 다음 메시지를 표시합니다:

```
판매 기능 준비 중

제철과일 판매 기능은 현재 개발 중입니다. 추후 다음 플랫폼을 통해 구매하실 수 있습니다:
- 쿠팡 파트너스 링크
- 네이버 쇼핑 링크
- 직접 판매 (플랫폼 내 구매)

구매 기능이 준비되면 알림을 받으실 수 있습니다. 관심 있는 과일을 즐겨찾기에 추가해주세요!
```

## 🔍 테스트 시나리오

1. **간식 카드 클릭 테스트**
   - 건강식단 페이지에서 간식 카드 클릭
   - 제철과일 상세 페이지로 이동 확인

2. **제철과일 매핑 테스트**
   - "딸기", "사과" 등 제철과일 이름으로 매핑 확인
   - 제철과일이 아닌 간식의 경우 레시피 페이지로 이동 확인

3. **상세 페이지 표시 테스트**
   - 제철과일 정보 정확히 표시 확인
   - 영양 정보, 건강 효능 표시 확인
   - 판매 안내 메시지 표시 확인

4. **404 처리 테스트**
   - 존재하지 않는 과일 ID 접근 시 404 페이지 표시 확인

## 📌 참고 사항

- 제철과일 데이터는 `lib/diet/seasonal-fruits.ts`에 정의되어 있습니다.
- 현재 11종의 제철과일이 지원됩니다 (딸기, 체리, 수박, 복숭아, 멜론, 포도, 배, 사과, 감, 키위, 바나나).
- 제철 시기는 월별로 정의되어 있으며, 현재 제철인 경우 "제철" 배지가 표시됩니다.

