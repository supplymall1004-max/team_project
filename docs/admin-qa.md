---
description: 관리자 콘솔 QA 체크리스트
globs: docs/admin-qa.md
alwaysApply: false
---

# 관리자 콘솔 QA 가이드

## 개요

관리자 콘솔의 기능적 완전성과 사용자 경험을 검증하기 위한 QA 체크리스트입니다.
릴리즈 전 필수 검증 항목들을 단계별로 정리했습니다.

## 1. 접근 제어 검증

### 1.1 인증 및 권한
- [ ] 비로그인 사용자가 `/admin` 접근 시 `/sign-in?redirect_url=%2Fadmin`으로 리다이렉트되는지 확인
- [ ] `role !== 'admin'` 사용자가 `/admin` 접근 시 `/`로 리다이렉트되는지 확인
- [ ] 관리자 권한 사용자가 정상적으로 접근 가능한지 확인
- [ ] 브라우저 콘솔에 `[AdminConsole][Guard]` 로그가 정상 출력되는지 확인

### 1.2 메타데이터 역할 검증
- [ ] Clerk 대시보드에서 `publicMetadata.role` 또는 `privateMetadata.roles`에 'admin' 설정
- [ ] 조직 멤버십 역할이 'admin'인 경우 접근 허용되는지 확인
- [ ] 여러 역할이 설정된 경우 'admin'이 포함되면 접근 가능한지 확인

## 2. 레이아웃 및 네비게이션

### 2.1 반응형 디자인
- [ ] 데스크톱(≥1024px): 고정 사이드바 + 헤더에 사용자 아바타 표시
- [ ] 태블릿/모바일(<1024px): 햄버거 메뉴로 사이드바 슬라이드
- [ ] 사이드바 토글 시 콘솔에 `[AdminConsole][Sidebar]` 로그 출력 확인

### 2.2 네비게이션 메뉴
- [ ] Overview, 페이지 문구, 팝업 공지, 알림 로그, 보안 설정 메뉴 정상 표시
- [ ] 각 메뉴 클릭 시 해당 경로로 이동하는지 확인
- [ ] 현재 활성 메뉴가 하이라이트되는지 확인

## 3. 페이지 문구 편집 모듈 (Copy)

### 3.1 리스트 패널
- [ ] 문구 블록 목록이 카드 형태로 표시되는지 확인
- [ ] 검색 기능이 slug/내용으로 작동하는지 확인
- [ ] '새 블록' 버튼 클릭 시 생성 다이얼로그 표시
- [ ] 선택된 블록이 하이라이트되는지 확인

### 3.2 편집기 패널
- [ ] JSON 에디터가 정상 작동하는지 확인
- [ ] 실시간 JSON 유효성 검증이 작동하는지 확인
- [ ] 미리보기 모달이 데스크톱/모바일 뷰 모두 표시되는지 확인
- [ ] 버전 히스토리 탭이 정상 작동하는지 확인
- [ ] 저장 시 `console.group('[AdminConsole][Copy]')` 로그 출력 확인

### 3.3 블록 생성
- [ ] Slug 유효성 검증 (영문 소문자/숫자/하이픈만 허용)
- [ ] JSON 콘텐츠 유효성 검증
- [ ] 생성 성공 시 목록 새로고침 및 선택 상태 변경 확인

## 4. 팝업 공지 모듈 (Popups)

### 4.1 팝업 목록
- [ ] 팝업이 테이블 형태로 표시되는지 확인
- [ ] 상태 필터(초안/배포중/보관됨)가 작동하는지 확인
- [ ] 배포/배포취소 토글이 상태에 따라 정상 작동하는지 확인
- [ ] 우선순위 드롭다운이 변경을 반영하는지 확인

### 4.2 팝업 상세 편집
- [ ] 선택된 팝업의 상세 정보가 표시되는지 확인
- [ ] 편집 모드에서 폼 필드들이 활성화되는지 확인
- [ ] 날짜 범위 검증이 작동하는지 확인
- [ ] 대상 세그먼트 체크박스가 정상 작동하는지 확인
- [ ] 미리보기 모달이 팝업을 실제 형태로 표시하는지 확인

### 4.3 팝업 배포
- [ ] 배포 전 유효성 검증 (제목/본문 필수, 날짜 범위)
- [ ] 배포 성공 시 상태 변경 및 목록 반영 확인
- [ ] 배포 취소가 정상 작동하는지 확인
- [ ] 모든 액션 시 `console.group('[AdminConsole][Popups]')` 로그 출력 확인

## 5. 알림 로그 뷰어 (Logs)

### 5.1 필터링 및 검색
- [ ] 타입 필터(KCDC/식단 팝업/시스템)가 작동하는지 확인
- [ ] 상태 필터(성공/실패/대기)가 작동하는지 확인
- [ ] 날짜 범위 필터가 작동하는지 확인
- [ ] 검색어가 로그 내용으로 필터링되는지 확인

### 5.2 로그 표시
- [ ] 로그가 시간 역순으로 표시되는지 확인
- [ ] 상태별 뱃지(성공/실패/대기)가 올바르게 표시되는지 확인
- [ ] 타입별 뱃지가 올바르게 표시되는지 확인
- [ ] 상세 버튼 클릭 시 Drawer가 열리는지 확인

### 5.3 Drawer 상세
- [ ] 로그 ID, 타입, 상태, 실행자, 실행 시간 표시 확인
- [ ] 에러 메시지가 있을 경우 강조 표시되는지 확인
- [ ] 페이로드 JSON이 포맷팅되어 표시되는지 확인

## 6. 보안 설정 모듈 (Security)

### 6.1 요약 카드
- [ ] 마지막 비밀번호 변경일이 표시되는지 확인
- [ ] 2FA 상태가 올바르게 표시되는지 확인
- [ ] 활성 세션 수가 표시되는지 확인
- [ ] 최근 실패 로그인 수가 표시되는지 확인

### 6.2 비밀번호 변경
- [ ] 현재 비밀번호 필드가 작동하는지 확인
- [ ] 새 비밀번호 정책 검증이 실시간으로 작동하는지 확인
- [ ] 비밀번호 확인 일치 검증이 작동하는지 확인
- [ ] 모든 정책 충족 시에만 변경 버튼 활성화되는지 확인

### 6.3 2FA 설정
- [ ] 현재 2FA 상태가 표시되는지 확인
- [ ] 2FA 활성화/비활성화 버튼이 정상 작동하는지 확인
- [ ] 2FA 활성화 시 설정 가이드가 표시되는지 확인

### 6.4 세션 관리
- [ ] 현재 세션과 다른 활성 세션이 구분되어 표시되는지 확인
- [ ] 세션별 기기, 위치, 마지막 활동 시간이 표시되는지 확인
- [ ] 현재 세션은 로그아웃 버튼이 없는지 확인
- [ ] 다른 세션 로그아웃이 작동하는지 확인
- [ ] '다른 모든 세션 로그아웃'이 작동하는지 확인

### 6.5 보안 감사 로그
- [ ] 감사 로그가 시간 역순으로 표시되는지 확인
- [ ] 이벤트 타입별 필터가 작동하는지 확인
- [ ] 각 로그의 액션, 사용자, IP, 상세 정보가 표시되는지 확인

## 7. 팝업 공지 표시 (사용자 앱)

### 7.1 팝업 표시
- [ ] 활성 팝업이 사용자 앱에 표시되는지 확인
- [ ] 팝업이 모달 형태로 중앙에 표시되는지 확인
- [ ] 팝업이 여러 개일 경우 순차적으로 표시되는지 확인
- [ ] 팝업 닫기 버튼이 작동하는지 확인

### 7.2 팝업 내용
- [ ] 팝업 제목과 본문이 올바르게 표시되는지 확인
- [ ] 표시 기간이 올바르게 표시되는지 확인
- [ ] 우선순위에 따른 표시 순서가 올바른지 확인
- [ ] 대상 세그먼트 필터링이 작동하는지 확인

## 8. 접근성 및 디자인

### 8.1 접근성
- [ ] 모든 버튼과 링크에 적절한 ARIA 레이블이 있는지 확인
- [ ] 키보드 네비게이션이 가능한지 확인 (Tab, Enter, Space)
- [ ] 포커스 표시가 명확한지 확인
- [ ] 스크린 리더가 콘텐츠를 올바르게 읽는지 확인

### 8.2 디자인 일관성
- [ ] 모든 컴포넌트가 shadcn/ui 디자인 시스템을 따르는지 확인
- [ ] 색상 (주황색 #ea580c)이 일관되게 사용되는지 확인
- [ ] 타이포그래피가 일관된지 확인
- [ ] 아이콘(lucide-react)이 올바르게 표시되는지 확인

### 8.3 반응형
- [ ] 모바일에서 모든 기능이 정상 작동하는지 확인
- [ ] 터치 인터페이스가 적절한 크기(44px 이상)인지 확인
- [ ] 가로 스크롤이 발생하지 않는지 확인

## 9. 성능 및 안정성

### 9.1 성능
- [ ] 페이지 로딩 시간이 3초 이내인지 확인
- [ ] 대량 데이터(1000개 이상) 처리 시 성능 저하 없는지 확인
- [ ] 메모리 누수가 없는지 확인 (React DevTools)

### 9.2 에러 처리
- [ ] 네트워크 에러 시 적절한 오류 메시지가 표시되는지 확인
- [ ] 유효성 검증 에러가 사용자 친화적으로 표시되는지 확인
- [ ] 콘솔에 적절한 에러 로그가 출력되는지 확인

### 9.3 데이터 일관성
- [ ] CRUD 작업 후 데이터가 즉시 반영되는지 확인
- [ ] 동시 편집 시 충돌 처리가 되는지 확인
- [ ] 캐시 무효화가 정상 작동하는지 확인

## 10. 브라우저 호환성

### 10.1 데스크톱 브라우저
- [ ] Chrome 최신 버전에서 정상 작동하는지 확인
- [ ] Firefox 최신 버전에서 정상 작동하는지 확인
- [ ] Safari 최신 버전에서 정상 작동하는지 확인
- [ ] Edge 최신 버전에서 정상 작동하는지 확인

### 10.2 모바일 브라우저
- [ ] iOS Safari에서 정상 작동하는지 확인
- [ ] Chrome Mobile에서 정상 작동하는지 확인
- [ ] Samsung Internet에서 정상 작동하는지 확인

## 11. 콘솔 로그 검증

### 11.1 필수 로그
- [ ] 모든 주요 액션에 `console.group('[AdminConsole][Module]')` 로그가 출력되는지 확인
- [ ] 로그에 필요한 payload 정보가 포함되는지 확인
- [ ] 에러 발생 시 적절한 에러 로그가 출력되는지 확인

### 11.2 로그 포맷
- [ ] 로그 그룹이 적절히 시작/종료되는지 확인
- [ ] 로그 레벨이 적절한지 확인 (log, warn, error)
- [ ] 민감한 정보가 로그에 노출되지 않는지 확인

## 체크리스트 사용 방법

1. 각 항목을 순차적으로 검증하면서 체크 표시
2. 발견된 이슈는 별도 문서에 기록하고 우선순위 지정
3. 모든 항목이 통과할 때까지 반복 테스트 수행
4. 최종 릴리즈 전 전체 재검증 수행

## 관련 문서

- [관리자 콘솔 상세 계획서](admin-console-spec.md)
- [PRD](PRD.md) - 7.x 관리자 페이지 섹션
- [TODO](TODO.md) - F-2 관리자 콘솔 구현 로드맵




















