# 홈페이지 주요 기능 및 서브 기능 보고서

> **작성일**: 2025-01-27  
> **대상**: Flavor Archive 홈페이지 (`/`)  
> **목적**: 현재 구현된 홈페이지의 주요 기능과 서브 기능을 체계적으로 정리

---

## 📋 목차

1. [홈페이지 개요](#1-홈페이지-개요)
2. [주요 기능](#2-주요-기능)
3. [서브 기능 상세](#3-서브-기능-상세)
4. [기술적 특징](#4-기술적-특징)
5. [사용자 경험 (UX) 특징](#5-사용자-경험-ux-특징)

---

## 1. 홈페이지 개요

### 1.1 페이지 구조

홈페이지는 **배달의민족 앱 UI/UX 패턴**을 참고하여 구현되었으며, 다음과 같은 레이아웃 구조를 가집니다:

```
┌─────────────────────────────────────────┐
│  [고정 헤더] 검색바 + 프리미엄 배너      │ ← position: fixed
├─────────────────────────────────────────┤
│  [응급조치 카드 섹션]                    │
│  - 응급조치 안내                         │
│  - 예방접종 안내                         │
│  - 주변 의료기관 찾기                    │
│  - 건강 맞춤 식단                        │
│  - Recipe Genie                          │
├─────────────────────────────────────────┤
│  [날씨 위젯]                            │
├─────────────────────────────────────────┤
│  [히어로 섹션]                          │
│  - 서비스 소개                           │
│  - 빠른 시작 카드 (17개)                 │
├─────────────────────────────────────────┤
│  [건강 관리 게임]                       │
│  - 3D 캐릭터 뷰어 (로그인 사용자만)      │
├─────────────────────────────────────────┤
│  [커뮤니티 미리보기]                     │
│  - 인기 그룹 목록                        │
└─────────────────────────────────────────┘
```

### 1.2 성능 최적화

- **Suspense 기반 스트리밍 렌더링**: 각 섹션을 독립적으로 로딩
- **병렬 데이터 로딩**: 전체 로딩 시간 단축
- **코드 스플리팅**: Lazy 로딩으로 초기 번들 크기 최소화
- **CSS contain 속성**: 렌더링 최적화

---

## 2. 주요 기능

### 2.1 고정 헤더 (Fixed Header)

**위치**: 페이지 최상단 (스크롤해도 고정)

**구성 요소**:
- **프리미엄 배너** (Free 사용자)
  - 프리미엄 결제 혜택 안내
  - `/pricing` 페이지로 이동
- **프리미엄 상태 배너** (Premium 사용자)
  - 현재 프리미엄 상태 표시
  - 게임 메뉴 토글 기능 포함

**기술적 특징**:
- `position: fixed`로 스크롤 시에도 상단 고정
- 프리미엄 상태 실시간 확인 (구독 정보 자동 로드)
- 애니메이션 효과 (Framer Motion)

---

### 2.2 응급조치 안내 카드 섹션 (Emergency Quick Access)

**위치**: 고정 헤더 바로 아래

**주요 카드**:

1. **응급조치 안내** (빨간색 테마)
   - 알레르기 반응 시 즉시 대처 방법
   - `/health/emergency` 페이지로 이동
   - 아이콘: 사이렌 (애니메이션 펄스 효과)

2. **예방접종 안내** (하늘색 테마)
   - 나이별 맞춤 예방접종 일정 확인
   - `/health/vaccinations` 페이지로 이동
   - **로그인 필요**: 비로그인 시 로그인 페이지로 안내
   - 아이콘: 주사기

3. **주변 의료기관 찾기** (파란색 테마)
   - 병원, 약국, 동물병원 위치 확인
   - `/health/emergency/medical-facilities` 페이지로 이동
   - 아이콘: 지도 핀

4. **건강 맞춤 식단** (초록색 테마)
   - 개인 맞춤 식단 상세 정보 확인
   - `/diet` 페이지로 이동
   - **날씨 맞춤 멘트**: 현재 날씨에 맞는 요리 추천 메시지 표시
   - **로그인 필요**: 비로그인 시 로그인 페이지로 안내
   - 아이콘: 사과

5. **Google Recipe Genie** (노란색 테마)
   - 냉장고 재료 확인하고 레시피 추천
   - Google Gemini 기반 외부 서비스 링크
   - 새 탭에서 열림
   - 아이콘: 반짝임

**기술적 특징**:
- 각 카드별 방향성 애니메이션 (위/아래/좌/우에서 진입)
- 강조 효과 애니메이션 (빛나는 효과)
- 모바일 환경 감지 및 애니메이션 최적화
- 날씨 API 연동 (건강 맞춤 식단 카드)

---

### 2.3 날씨 위젯 (Weather Widget)

**위치**: 응급조치 카드 섹션 아래

**기능**:
- 현재 위치 기반 날씨 정보 표시
- 기상청 공공데이터포털 API 연동
- 기본 위치: 서울 (37.5665, 126.9780)

**표시 정보**:
- 위치명
- 현재 온도
- 체감 온도
- 날씨 설명
- 날씨 아이콘
- 습도
- 풍속
- 기타 상세 정보 (선택적)

**에러 처리**:
- API 키가 없거나 오류 발생 시 조용히 처리 (사용자 경험 저해 최소화)

---

### 2.4 히어로 섹션 (Hero Section)

**위치**: 날씨 위젯 아래

**구성 요소**:

#### 2.4.1 서비스 소개 영역
- **베타 배지**: "Flavor Archive Beta"
- **메인 타이틀**: "잊혀진 손맛을 연결하는 디지털 식탁"
- **서브타이틀**: (선택적, 관리자 콘텐츠에서 설정 가능)
- **설명**: "궁중 레시피부터 건강 맞춤 식단까지, 세대와 세대를 넘나드는 요리 지식을 한 곳에서 경험하세요."
- **검색바**: 레시피 검색 기능 (검색어 입력 시 `/search?q={query}`로 이동)

#### 2.4.2 빠른 시작 카드 (17개)

**레시피 관련** (7개):
1. **레시피** - `/recipes` - 최신 레시피 모음
2. **궁중요리** - `/royal-recipes` - 전통 궁중 레시피
3. **이유식 레시피** - `/archive/recipes?tab=baby` - 아기 이유식 레시피
4. **죽 레시피** - `/archive/recipes?tab=gruel` - 영양 가득한 죽 레시피
5. **특수 레시피** - `/archive/recipes?tab=special` - 해독, 염증 완화, 기력 회복 특수 레시피
6. **비건 레시피** - `/archive/recipes?tab=vegan` - 지속가능한 비건 레시피
7. **식약처레시피** - `/recipes/mfds` - 공식 식약처 레시피

**식단 관리** (2개):
8. **식단관리** - `/diet` - 맞춤 식단 추천
9. **주간식단** - `/diet/weekly` - 7일 식단 계획

**건강 관리** (2개):
10. **건강관리** - `/health` - 가족 건강 관리
11. **반려동물** - `/health/pets` - 반려동물 건강 관리

**게임** (4개):
12. **냉장고 파수꾼** - `/game/fridge-guardian` - 세균 퇴치 게임
13. **냉장고 디펜스** - `/game/fridge-defense` - 타워 디펜스 게임
14. **냉장고 짝맞추기** - `/game/fridge-memory` - 메모리 게임
15. **뇌 훈련 숫자맞추기** - `/game/codebreaker` - 코드 브레이커 게임

**기타** (2개):
16. **요리이야기** - `/stories` - 맛있는 이야기들
17. **유틸리티** - `/game/fridge-guardian` - 편리한 도구들

**디자인 특징**:
- 각 카드별 고유 그라데이션 색상
- 아이콘 이미지 사용
- 호버 효과 (스케일, 그림자)
- 반응형 그리드 레이아웃

**콘텐츠 관리**:
- 관리자 콘텐츠 관리 시스템 연동
- 히어로 섹션 텍스트는 데이터베이스에서 동적 로드

---

### 2.5 건강 관리 게임 (Character Game Home)

**위치**: 히어로 섹션 아래

**기능**:
- 3D 캐릭터 뷰어 (React Three Fiber 기반)
- 로그인한 사용자만 표시
- 가족 구성원별 캐릭터 상태 확인

**기술적 특징**:
- Hydration 오류 방지 (클라이언트 사이드 전용 렌더링)
- 로그인 상태 확인 후 조건부 렌더링
- 3D 모델 로딩 및 렌더링

**접근 제한**:
- 비로그인 사용자: 표시하지 않음
- 로그인 사용자: 3D 뷰어 표시

---

### 2.6 커뮤니티 미리보기 (Community Preview)

**위치**: 페이지 하단

**기능**:
- 인기 그룹 목록 표시 (최대 6개)
- 공개 그룹만 표시
- "전체 보기" 버튼으로 `/community` 페이지 이동

**디자인 특징**:
- GDWEB 스타일 카드 디자인
- 그라데이션 배경 아이콘
- "커뮤니티 둘러보기" CTA 버튼

---

## 3. 서브 기능 상세

### 3.1 검색 기능

**위치**: 히어로 섹션 내 검색바

**기능**:
- 레시피 검색어 입력
- 엔터 키 또는 검색 버튼 클릭 시 검색 실행
- 검색 결과 페이지로 이동 (`/search?q={query}`)

**검색 플레이스홀더**: "레시피를 검색해보세요" (관리자 콘텐츠에서 변경 가능)

---

### 3.2 프리미엄 상태 관리

**기능**:
- 실시간 구독 상태 확인
- Free 사용자: 업그레이드 배너 표시
- Premium 사용자: 상태 배너 표시
- 프리미엄 활성화 이벤트 리스너 (자동 새로고침)

**API 연동**:
- `getCurrentSubscription()` Server Action 호출
- 구독 정보 실시간 업데이트

---

### 3.3 날씨 기반 추천 메시지

**위치**: 건강 맞춤 식단 카드 내

**기능**:
- 현재 날씨에 맞는 요리 추천 메시지 자동 생성
- 날씨 조건별 우선순위:
  1. 비 오는 날 → 파전, 전골, 수제비 추천
  2. 눈 오는 날 → 떡국, 부대찌개, 김치찌개 추천
  3. 매우 추운 날 (영하 5도 이하) → 갈비탕, 설렁탕, 곰탕 추천
  4. 추운 날 (영하 0도 이상) → 갈비탕 추천
  5. 쌀쌀한 날 (0~5도) → 국물 요리, 찌개 추천
  6. 더운 날 (25도 이상) → 냉면, 수육 추천
  7. 맑은 날 → 산뜻한 요리 추천
  8. 흐린 날 → 따뜻한 요리 추천

**디자인 특징**:
- 네온사인 스타일 텍스트 효과
- 빛나는 애니메이션 효과

---

### 3.4 로그인 상태 확인

**적용 위치**:
- 예방접종 안내 카드
- 건강 맞춤 식단 카드

**동작**:
- 비로그인 사용자 클릭 시: 로그인 확인 다이얼로그 표시
- 로그인 페이지로 이동 옵션 제공
- 로그인한 사용자: 해당 페이지로 정상 이동

---

### 3.5 애니메이션 효과

**애니메이션 라이브러리**: Framer Motion

**적용 위치**:

1. **고정 헤더**
   - 페이드 인 + 위에서 아래로 슬라이드
   - 스프링 애니메이션

2. **응급조치 카드**
   - 각 카드별 방향성 진입 애니메이션
   - 강조 효과 (빛나는 효과)
   - 모바일 환경 감지 및 최적화

3. **히어로 섹션**
   - 패럴랙스 효과 (스크롤 시)
   - 아래에서 위로 진입 애니메이션
   - 스프링 애니메이션

4. **커뮤니티 미리보기**
   - 아래에서 위로 진입 애니메이션

**성능 최적화**:
- 모바일 환경에서는 단순한 페이드 인만 사용
- `willChange` 속성으로 GPU 가속 활용

---

### 3.6 스크롤 진행 표시기

**위치**: 페이지 최상단

**기능**:
- 스크롤 진행률을 시각적으로 표시
- 페이지 상단에 고정된 진행 바

---

### 3.7 에러 처리

**Error Boundary 적용**:
- 각 주요 섹션을 `ErrorBoundary`로 감싸서 에러 격리
- 한 섹션의 에러가 전체 페이지에 영향을 주지 않음

**적용 섹션**:
- 날씨 위젯
- 히어로 섹션
- 건강 관리 게임
- 커뮤니티 미리보기

---

### 3.8 로딩 상태 관리

**스켈레톤 UI**:
- 각 섹션별 로딩 스켈레톤 제공
- `Suspense`와 함께 사용하여 점진적 로딩

**로딩 스켈레톤 위치**:
- 히어로 섹션: `HomeLoadingSkeleton`
- 기타 섹션: `SectionSkeleton`

---

## 4. 기술적 특징

### 4.1 아키텍처

- **Next.js 15 App Router**: 서버 컴포넌트 우선 사용
- **React 19**: 최신 React 기능 활용
- **TypeScript**: 타입 안정성 보장

### 4.2 성능 최적화

- **스트리밍 렌더링**: Suspense 기반 섹션별 독립 로딩
- **코드 스플리팅**: Lazy 로딩으로 초기 번들 크기 최소화
- **병렬 데이터 로딩**: 여러 데이터 소스를 동시에 로드
- **CSS contain**: 렌더링 최적화

### 4.3 상태 관리

- **서버 컴포넌트**: 데이터 페칭은 서버에서 처리
- **클라이언트 컴포넌트**: 인터랙티브 기능만 클라이언트에서 처리
- **Context API**: 게임 메뉴 상태 관리 (`GameMenuProvider`)

### 4.4 외부 API 연동

- **기상청 공공데이터포털**: 날씨 정보
- **Google Recipe Genie**: 레시피 추천 (외부 링크)
- **Supabase**: 데이터베이스 및 인증
- **Clerk**: 사용자 인증

---

## 5. 사용자 경험 (UX) 특징

### 5.1 반응형 디자인

- **모바일 우선 설계**: 모바일 환경을 기본으로 설계
- **태블릿/데스크톱 최적화**: 큰 화면에서도 최적의 레이아웃 제공
- **터치 최적화**: 터치 영역 최소 44x44px 확보

### 5.2 접근성 (Accessibility)

- **키보드 네비게이션**: 모든 인터랙티브 요소에 키보드 접근 가능
- **ARIA 레이블**: 스크린 리더 지원
- **포커스 관리**: 명확한 포커스 표시

### 5.3 사용자 피드백

- **로딩 상태**: 스켈레톤 UI로 로딩 상태 표시
- **에러 처리**: 에러 발생 시 사용자에게 명확한 피드백
- **애니메이션**: 부드러운 전환 효과로 사용자 경험 향상

### 5.4 배달의민족 앱 UI/UX 패턴 적용

- **고정 영역과 스크롤 영역 분리**: 헤더는 고정, 콘텐츠는 스크롤
- **바로가기 메뉴**: 주요 기능을 빠르게 접근 가능
- **카드 기반 레이아웃**: 정보를 카드 형태로 구조화
- **색상 코딩**: 기능별 고유 색상으로 시각적 구분

---

## 6. 향후 개선 사항

### 6.1 현재 숨겨진 섹션

다음 섹션들은 현재 주석 처리되어 있으나, 향후 활성화 가능:

- 레시피 아카이브 미리보기
- 식단 관리 미리보기
- 스토리 & 학습 미리보기
- 유틸리티 미리보기

### 6.2 개선 제안

1. **검색 기능 강화**: 자동완성, 검색 히스토리
2. **개인화**: 사용자별 맞춤 콘텐츠 추천
3. **알림 기능**: 중요한 건강 정보 푸시 알림
4. **오프라인 지원**: PWA 기능으로 오프라인 접근 가능

---

## 7. 결론

Flavor Archive 홈페이지는 **배달의민족 앱의 UI/UX 패턴**을 참고하여 구현된 현대적인 웹 애플리케이션입니다. 주요 특징은 다음과 같습니다:

✅ **17개의 빠른 시작 카드**로 다양한 기능에 빠르게 접근 가능  
✅ **응급조치 안내** 등 건강 관련 핵심 기능을 상단에 배치  
✅ **날씨 기반 추천** 등 지능형 기능 제공  
✅ **3D 게임 뷰어** 등 차별화된 기능 제공  
✅ **성능 최적화**로 빠른 로딩 속도  
✅ **반응형 디자인**으로 모든 기기에서 최적의 경험 제공  

이 보고서는 현재 구현된 기능을 기반으로 작성되었으며, 향후 기능 추가 시 업데이트가 필요합니다.

---

**문서 버전**: 1.0  
**최종 업데이트**: 2025-01-27

